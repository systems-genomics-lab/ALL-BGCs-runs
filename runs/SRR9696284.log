+ set -o pipefail
++ date +%s%N
+ ts=1624389392279969490
+ sample=SRR9696284
+ echo '--START-- SRR9696284'
--START-- SRR9696284
+ date
Tue Jun 22 19:16:32 UTC 2021
+ export KRAKEN=/data/kraken2
+ KRAKEN=/data/kraken2
+ export PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/ncbi/sra-tools/bin/:/usr/local/ncbi/ngs-tools/bin/:/usr/local/ncbi/ncbi-vdb/bin:/usr/local/miniconda3/bin:/data/kraken2/bin
+ PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/ncbi/sra-tools/bin/:/usr/local/ncbi/ngs-tools/bin/:/usr/local/ncbi/ncbi-vdb/bin:/usr/local/miniconda3/bin:/data/kraken2/bin
+ export KRAKENDB=/data/kraken2/db
+ KRAKENDB=/data/kraken2/db
+ PROJECT=/projects/metaBGC/
++ grep -c '^processor' /proc/cpuinfo
+ cpus=192
+ echo 'CPUs: 192'
CPUs: 192
+ original1=SRR9696284_1.fastq.gz
+ original2=SRR9696284_2.fastq.gz
+ filtered1=SRR9696284_1.filtered.fastq.gz
+ filtered2=SRR9696284_2.filtered.fastq.gz
+ reads1=SRR9696284_1.final.fastq.gz
+ reads2=SRR9696284_1.final.fastq.gz
+ cd /projects/metaBGC//samples/SRR9696284
+ echo

+ echo '-- STEP 7 -- antiSmash'
-- STEP 7 -- antiSmash
+ echo -e 'sample\tcontig\tantismash_region\tregion_start\tregion_end'
+ /projects/metaBGC//scripts/parse_genbank.py SRR9696284.bgc.antismash.gbk
+ awk -v sample=SRR9696284 '{print sample"\t"$0;}'
+ /projects/metaBGC//scripts/join.sh SRR9696284.bgc.antismash.tmp SRR9696284.contigs.kraken.classified.tsv SRR9696284.bgc.antismash.tsv
-- Attaching packages --------------------------------------- tidyverse 1.3.0 --
v ggplot2 3.3.2     v purrr   0.3.4
v tibble  3.0.3     v dplyr   1.0.1
v tidyr   1.1.1     v stringr 1.4.0
v readr   1.3.1     v forcats 0.5.0
-- Conflicts ------------------------------------------ tidyverse_conflicts() --
x dplyr::filter() masks stats::filter()
x dplyr::lag()    masks stats::lag()

Attaching package: 'tidylog'

The following objects are masked from 'package:dplyr':

    add_count, add_tally, anti_join, count, distinct, distinct_all,
    distinct_at, distinct_if, filter, filter_all, filter_at, filter_if,
    full_join, group_by, group_by_all, group_by_at, group_by_if,
    inner_join, left_join, mutate, mutate_all, mutate_at, mutate_if,
    relocate, rename, rename_all, rename_at, rename_if, rename_with,
    right_join, sample_frac, sample_n, select, select_all, select_at,
    select_if, semi_join, slice, slice_head, slice_max, slice_min,
    slice_sample, slice_tail, summarise, summarise_all, summarise_at,
    summarise_if, summarize, summarize_all, summarize_at, summarize_if,
    tally, top_frac, top_n, transmute, transmute_all, transmute_at,
    transmute_if, ungroup

The following objects are masked from 'package:tidyr':

    drop_na, fill, gather, pivot_longer, pivot_wider, replace_na,
    spread, uncount

The following object is masked from 'package:stats':

    filter

Parsed with column specification:
cols(
  sample = col_character(),
  contig = col_character(),
  antismash_region = col_character(),
  region_start = col_character(),
  region_end = col_character()
)
Rows: 0
Columns: 5
$ sample           <chr> 
$ contig           <chr> 
$ antismash_region <chr> 
$ region_start     <chr> 
$ region_end       <chr> 
Parsed with column specification:
cols(
  sample = col_character(),
  contig = col_character(),
  taxid = col_double(),
  name = col_character()
)
Rows: 97
Columns: 4
$ sample <chr> "SRR9696284", "SRR9696284", "SRR9696284", "SRR9696284", "SRR...
$ contig <chr> "k99_16715", "k99_20713", "k99_9394", "k99_18774", "k99_4026...
$ taxid  <dbl> 9606, 9606, 9606, 9606, 9606, 9606, 9606, 9606, 9606, 9606, ...
$ name   <chr> "Homo sapiens", "Homo sapiens", "Homo sapiens", "Homo sapien...
Joining, by = c("sample", "contig")
left_join: added 2 columns (taxid, name)
           > rows only in x    0
           > rows only in y  (97)
           > matched rows      0
           >                 ====
           > rows total        0
Rows: 0
Columns: 7
$ sample           <chr> 
$ contig           <chr> 
$ antismash_region <chr> 
$ region_start     <chr> 
$ region_end       <chr> 
$ taxid            <dbl> 
$ name             <chr> 
# A tibble: 0 x 7
# ... with 7 variables: sample <chr>, contig <chr>, antismash_region <chr>,
#   region_start <chr>, region_end <chr>, taxid <dbl>, name <chr>
+ echo

+ echo '-- STEP 8 -- Cleaning'
-- STEP 8 -- Cleaning
+ rm -fr SRR9696284.fastq.gz
+ rm -fr SRR9696284.sra
+ rm -fr SRR9696284.fastp.html
+ rm -fr SRR9696284_1.fastq.gz
+ rm -fr SRR9696284_2.fastq.gz
+ rm -fr SRR9696284_1.filtered.fastq.gz
+ rm -fr SRR9696284_2.filtered.fastq.gz
+ rm -fr SRR9696284_1.final.fastq.gz
+ rm -fr SRR9696284_1.final.fastq.gz
+ rm -fr SRR9696284.filtered.fastq.gz
+ rm -fr SRR9696284.reads.kraken.classified.fq
+ rm -fr SRR9696284.reads.kraken.unclassified.fq
+ rm -fr SRR9696284.reads.kraken.classified.tsv
+ rm -fr SRR9696284.reads.kraken.classified_1.fq
+ rm -fr SRR9696284.reads.kraken.classified_2.fq
+ rm -fr SRR9696284.reads.kraken.unclassified_1.fq
+ rm -fr SRR9696284.reads.kraken.unclassified_2.fq
+ rm -fr SRR9696284.contigs.kraken SRR9696284.contigs_bracken_classes.kraken SRR9696284.contigs_bracken_domains.kraken SRR9696284.contigs_bracken_families.kraken SRR9696284.contigs_bracken_genuses.kraken SRR9696284.contigs_bracken_orders.kraken SRR9696284.contigs_bracken_phylums.kraken SRR9696284.contigs_bracken_species.kraken SRR9696284.reads.kraken SRR9696284.reads_bracken_classes.kraken SRR9696284.reads_bracken_domains.kraken SRR9696284.reads_bracken_families.kraken SRR9696284.reads_bracken_genuses.kraken SRR9696284.reads_bracken_orders.kraken SRR9696284.reads_bracken_phylums.kraken SRR9696284.reads_bracken_species.kraken
+ rm -fr SRR9696284.bgc.antismash.tmp SRR9696284.bgc.full.tmp SRR9696284.bgc.pfam.tmp SRR9696284.contigs.bracken.class.tmp SRR9696284.contigs.bracken.domain.tmp SRR9696284.contigs.bracken.family.tmp SRR9696284.contigs.bracken.genus.tmp SRR9696284.contigs.bracken.order.tmp SRR9696284.contigs.bracken.phylum.tmp SRR9696284.contigs.bracken.species.tmp SRR9696284.contigs.kraken.classified.tmp SRR9696284.reads.bracken.class.tmp SRR9696284.reads.bracken.domain.tmp SRR9696284.reads.bracken.family.tmp SRR9696284.reads.bracken.genus.tmp SRR9696284.reads.bracken.order.tmp SRR9696284.reads.bracken.phylum.tmp SRR9696284.reads.bracken.species.tmp
+ rm -fr SRR9696284.bgc.antismash.log SRR9696284.bgc.deepbgc.log SRR9696284.contigs.kraken.log SRR9696284.megahit.log SRR9696284.reads.kraken.log
+ rm -fr assembly
+ rm -fr SRR9696284
+ rm -fr SRR9696284.fastp.html
+ rm -fr antismash
+ gzip SRR9696284.contigs.fa SRR9696284.contigs.kraken.classified.fa SRR9696284.contigs.kraken.unclassified.fa
+ touch /projects/metaBGC//samples/SRR9696284.SUCCESS
+ echo '--END-- SRR9696284'
--END-- SRR9696284
+ date
Tue Jun 22 19:16:38 UTC 2021
++ date +%s%N
+ tt=6005
+ echo 'Time: 6005 milliseconds'
Time: 6005 milliseconds
